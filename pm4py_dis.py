from pm4py.algo.discovery.log_skeleton import algorithm as log_disc
from pm4py.algo.conformance.log_skeleton import algorithm as log_conf
import pm4py
from templates import TEMPLATE
log = pm4py.read_xes("/Users/baichaoye/PycharmProjects/lab-declarative-Conformance-Checking/example_log/synthetic event log.xes")
# log = pm4py.read_xes("./example_log/example_log.xes")
par = {log_disc.Variants.CLASSIC.value.Parameters.NOISE_THRESHOLD:0}

model = log_disc.apply(log,parameters=par)
# print(model)
# print(model)
conf = log_conf.apply(log,model)
print(conf)
# print(set(c['no_constr_total'] for c in conf))
# print(len([22529, 16390, 6151, 26632, 14348, 24600, 18460, 16414, 22567, 18471, 22569, 16427, 6195, 8248, 16442, 32833, 14401, 8257, 20551, 12359, 28746, 6220, 16461, 8277, 30811, 16486, 8300, 14452, 22645, 18548, 18552, 34943, 16514, 26759, 8329, 26762, 26767, 37009, 2193, 8338, 26777, 24730, 16542, 22687, 6311, 14506, 24747, 18607, 43187, 8372, 22712, 14522, 16579, 35011, 22726, 32967, 28877, 14541, 18637, 22743, 12504, 22749, 4317, 26847, 18656, 8418, 4328, 33007, 20721, 14589, 24843, 20749, 24849, 16657, 24851, 8478, 10527, 20771, 18724, 22823, 18728, 26920, 14638, 26927, 20785, 16710, 18761, 20810, 22859, 18764, 39247, 22864, 39250, 20824, 33113, 14682, 24924, 26972, 4446, 16735, 26976, 14686, 12642, 357, 41318, 363, 12652, 14699, 8568, 24978, 4500, 14746, 16797, 31137, 16802, 18850, 18855, 16807, 22954, 14775, 16824, 29113, 14777, 20921, 31164, 16828, 14780, 27070, 16841, 2510, 14799, 4566, 14824, 2545, 2551, 27141, 27160, 23077, 6699, 4657, 12850, 10802, 14901, 27192, 27193, 19003, 25149, 27198, 25166, 21073, 6738, 14945, 16997, 4709, 25191, 23156, 31353, 6779, 25216, 19073, 25220, 17031, 19084, 25228, 27285, 19094, 23190, 21142, 4761, 19099, 23198, 21153, 23204, 25254, 21162, 6829, 17073, 21175, 23229, 21200, 21203, 15062, 15063, 17111, 45792, 23272, 25333, 23286, 21244, 23300, 13060, 15131, 21285, 17191, 4904, 9006, 6971, 9028, 25413, 13126, 25420, 4940, 31565, 15190, 35672, 19298, 17251, 37734, 15215, 23411, 27508, 27509, 7032, 23417, 39808, 23429, 25481, 25486, 5009, 23441, 25496, 9122, 37795, 21414, 33710, 23476, 25525, 3001, 27584, 23492, 9161, 31698, 33753, 25566, 29664, 19430, 11245, 27630, 39924, 5116, 7172, 21515, 31758, 9234, 7187, 21525, 17429, 29720, 17435, 25628, 19483, 23589, 9265, 17461, 19515, 19516, 25663, 27712, 21569, 19522, 11333, 7240, 25676, 17485, 23629, 23630, 37968, 17486, 13395, 5209, 23641, 17502, 13409, 23658, 15470, 5232, 21617, 5236, 17527, 15479, 23679, 15492, 17544, 15497, 17546, 25739, 25747, 17556, 19606, 9370, 15517, 21667, 5284, 23718, 3238, 7336, 19623, 19628, 15538, 17595, 13509, 7366, 27845, 17614, 15566, 27857, 36050, 27858, 23766, 34011, 42210, 34022, 13544, 27887, 17648, 13554, 23800, 15610, 13562, 17667, 5379, 13576, 25875, 15638, 23843, 9510, 21801, 25900, 9519, 21808, 27951, 11577, 7482, 19770, 25916, 27965, 23881, 23885, 15693, 13654, 30045, 21875, 5492, 17785, 7558, 11655, 21896, 21897, 19861, 19862, 23969, 28070, 23981, 26041, 17852, 15808, 30157, 32208, 15829, 11738, 21980, 5599, 17888, 21986, 24041, 19948, 15854, 17903, 24057, 22018, 24070, 5639, 26119, 26124, 3605, 36375, 17943, 7710, 20004, 26149, 34342, 20006, 28205, 22065, 17971, 38455, 17975, 3651, 5701, 15942, 26186, 34383, 13908, 24155, 15967, 18017, 38498, 15972, 13925, 26218, 13934, 20084, 34423, 24186, 11906, 18057, 16009, 9869, 20117, 22170, 26275, 16038, 34476, 26285, 26294, 7867, 5819, 16063, 16066, 18114, 1737, 24266, 16091, 28382, 20199, 26345, 16114, 22259, 22262, 9975, 24312, 24313, 18173, 12035, 28421, 5895, 24332, 28429, 24340, 22294, 22301, 22307, 14121, 26416, 26417, 7989, 24379, 14141, 16189, 12096, 8003, 24395, 28502, 18262, 12130, 16230, 18280, 14190, 36719, 26480, 3954, 3965, 26496, 20362, 36750, 22414, 16271, 26513, 20372, 14229, 28567, 24471, 16281, 22427, 32667, 24477, 20384, 16293, 20394, 20396, 18348, 28596, 30644, 36788, 20412, 18380, 22488, 6110, 16353, 16356, 16359, 20458, 26609, 14323, 32758, 18422]))

# for k in model.keys():
#     cc += len(model[k])
# print(cc)